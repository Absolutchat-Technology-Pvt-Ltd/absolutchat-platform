"use strict";(self.webpackChunkabsolutchat_documentation=self.webpackChunkabsolutchat_documentation||[]).push([[1869],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,u=r(e,["components","mdxType","originalType","parentName"]),c=p(n),m=i,k=c["".concat(s,".").concat(m)]||c[m]||d[m]||o;return n?a.createElement(k,l(l({ref:t},u),{},{components:n})):a.createElement(k,l({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=c;var r={};for(var s in t)hasOwnProperty.call(t,s)&&(r[s]=t[s]);r.originalType=e,r.mdxType="string"==typeof e?e:i,l[1]=r;for(var p=2;p<o;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},9084:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return r},metadata:function(){return p},toc:function(){return d}});var a=n(7462),i=n(3366),o=(n(7294),n(3905)),l=["components"],r={sidebar_position:2},s="For Developers",p={unversionedId:"Flowbuilder/for-developers",id:"Flowbuilder/for-developers",title:"For Developers",description:"Dynamic Content",source:"@site/docs/Flowbuilder/for-developers.md",sourceDirName:"Flowbuilder",slug:"/Flowbuilder/for-developers",permalink:"/absolutchat-platform/docs/Flowbuilder/for-developers",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Flowbuilder/for-developers.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"FlowBuilder Overview",permalink:"/absolutchat-platform/docs/Flowbuilder/flowbuilder-overview"},next:{title:"Channels",permalink:"/absolutchat-platform/docs/category/channels"}},u={},d=[{value:"Dynamic Content",id:"dynamic-content",level:2},{value:"Response format",id:"response-format",level:3},{value:"Messages format",id:"messages-format",level:2},{value:"Sending text",id:"sending-text",level:3},{value:"Sending image",id:"sending-image",level:3},{value:"Sending video file",id:"sending-video-file",level:3},{value:"Sending audio file",id:"sending-audio-file",level:3},{value:"Sending files",id:"sending-files",level:3},{value:"Sending gallery cards",id:"sending-gallery-cards",level:3},{value:"Buttons",id:"buttons",level:2},{value:"Call button",id:"call-button",level:3},{value:"Url button",id:"url-button",level:3},{value:"Go to node button",id:"go-to-node-button",level:3},{value:"Dynamic block callback button",id:"dynamic-block-callback-button",level:3},{value:"Actions format",id:"actions-format",level:2},{value:"Action add tag",id:"action-add-tag",level:3},{value:"Action remove tag",id:"action-remove-tag",level:3},{value:"Action set subscriber\u2019s field value",id:"action-set-subscribers-field-value",level:3},{value:"Action unset subscriber\u2019s field value",id:"action-unset-subscribers-field-value",level:3},{value:"Quick replies",id:"quick-replies",level:2},{value:"Go to node quick reply",id:"go-to-node-quick-reply",level:2},{value:"Dynamic block callback quick reply",id:"dynamic-block-callback-quick-reply",level:3},{value:"Goto",id:"goto",level:2},{value:"Goto Step / Sub Flow",id:"goto-step--sub-flow",level:3},{value:"Get sub_flow_ns",id:"get-sub_flow_ns",level:3},{value:"Get node_ns",id:"get-node_ns",level:3},{value:"Variables",id:"variables",level:2},{value:"API",id:"api",level:2},{value:"Authorize",id:"authorize",level:2},{value:"Generate API Key (http,Bearer)",id:"generate-api-key-httpbearer",level:3},{value:"Get the Curl and Request URL",id:"get-the-curl-and-request-url",level:3},{value:"Responses",id:"responses",level:3},{value:"Example Value / Schema",id:"example-value--schema",level:3},{value:"Mini-Apps",id:"mini-apps",level:2}],c={toc:d};function m(e){var t=e.components,r=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"for-developers"},"For Developers"),(0,o.kt)("h2",{id:"dynamic-content"},"Dynamic Content"),(0,o.kt)("h3",{id:"response-format"},"Response format"),(0,o.kt)("p",null,"Response format for sending dynamic messages:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{   "version": "v1",\n"content": {\n"messages": [\n{\n"type": "text",\n"text": "simple text"\n},\n{\n...Another messages\n}     ],\n"actions": [  //optional\n{\n"action": "add_tag",\n"tag_name": "example tag"\n},\n{\n...Another actions\n}\n],\n"quick_replies": [ //optional\n{         "type": "node",\n"caption": "Quick reply text",\n"target": "My Content"\n},\n{         ...Another quick replies\n            }\n         ]\n     }\n  }\n\n')),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Dynamic block API current version\xa0",(0,o.kt)("inlineCode",{parentName:"strong"},"v1"),"\xa0Dynamic block has a limit to have not more than 10 messages in\xa0",(0,o.kt)("inlineCode",{parentName:"strong"},"messages"),"\xa0block, 11 quick replies and 5 actions. The\xa0",(0,o.kt)("inlineCode",{parentName:"strong"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"strong"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"strong"},'"quick_replies"'),"\xa0properties are optional.")),(0,o.kt)("h2",{id:"messages-format"},"Messages format"),(0,o.kt)("h3",{id:"sending-text"},"Sending text"),(0,o.kt)("p",null,"Use this response for sending text messages.\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"\xa0and\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\xa0buttons can be used with text message. The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n  "version": "v1",\n    "content": {\n        "messages": [\n      {\n      "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n          "type": "url",\n            "caption": "External link",\n            "url": "https://www.absolutchat.com"\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"sending-image"},"Sending image"),(0,o.kt)("p",null,"This response is used to send image files. Messenger supports JPG, PNG and GIF images. You can use\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\xa0and\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"\xa0buttons."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n  "version": "v1",\n  "content": {\n    "messages": [\n    {\n        "type": "image",\n        "url": "https://example.comxxxxxxzzzzzzzzz.png",\n        "buttons": []\n      }\n      ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"sending-video-file"},"Sending video file"),(0,o.kt)("p",null,"This response is used to send video files. Messenger supports videos, which are up to\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"25MB"),"\xa0in size. You can use",(0,o.kt)("inlineCode",{parentName:"p"},"\xa0url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\xa0and\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"\xa0buttons."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "video",\n        "url": "https://example.com/xxxxxxzzzzzzzzz.mpg",\n        "buttons": []\n      }\n      ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"sending-audio-file"},"Sending audio file"),(0,o.kt)("p",null,"This response is used to send audio files. Messenger supports audio, which are up to\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"25MB"),"\xa0in size. You can use",(0,o.kt)("inlineCode",{parentName:"p"},"\xa0url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\xa0and\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"\xa0buttons."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "audio",\n        "url": "https://example.com/xxxxxxzzzzzzzzz.mp3",\n        "buttons": []\n        }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"sending-files"},"Sending files"),(0,o.kt)("p",null,"This response is used to send any other files, which are no larger than ",(0,o.kt)("inlineCode",{parentName:"p"},"25 MB"),"."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "file",\n        "url": "https://example.com/xxxxxxzzzzzzzzz.pdf"\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"sending-gallery-cards"},"Sending gallery cards"),(0,o.kt)("p",null,"This response is used to send a horizontal scrollable gallery. You can use\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),"\xa0and\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"\xa0buttons."),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"action_ur"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"buttons"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"actions"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"quick_replies"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "cards",\n        "elements": [\n          {\n            "title": "Card title",\n            "subtitle": "card text",\n            "image_url": "https://example.com/xxxxxxzzzzzzzzz.png",\n            "action_url": "https://uchat.com.au",\n            "buttons": []\n          }\n          ],\n        "image_aspect_ratio": "horizontal"\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"action_url"),"\xa0- URLs starting with HTTP may not open in some browsers. We strongly suggest to use HTTPS protocol for your URLs.","`","\xa0image_aspect_ratio",(0,o.kt)("inlineCode",{parentName:"p"},"\xa0- The aspect ratio used to render cards. You can use\xa0"),"horizontal",(0,o.kt)("inlineCode",{parentName:"p"},"\xa0or\xa0square\xa0(default\xa0"),"horizontal`)."),(0,o.kt)("h2",{id:"buttons"},"Buttons"),(0,o.kt)("p",null,"You can use buttons with each types:\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"call"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"url"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"node"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://uchat.com.au",\n          },\n          {\n            ...Another buttons\n          }\n        ]\n      },\n      {\n        ...Another messages\n      }\n    ],\n    "actions": [  //optional\n      {\n        "action": "add_tag",\n        "tag_name": "example tag"\n      },\n      {\n        ...Another actions\n      }\n    ],\n    "quick_replies": [ //optional\n      {\n        "type": "node",\n        "caption": "Quick reply text",\n        "target": "My Content"\n      },\n      {\n        ...Another quick replies\n      }\n    ]\n  }\n}\n')),(0,o.kt)("h3",{id:"call-button"},"Call button"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "call",\n            "caption": "Call me",\n            "phone": "+1 (555) 555-55-55"\n          }\n        ]\n      }\n      ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"url-button"},"Url button"),(0,o.kt)("p",null,"There are 3 options of\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"webview_size"),":"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"full\xa0"),"- (100%),"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"medium\xa0"),"- (75%),"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"compact\xa0"),"- (50%)"),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"webview_size"'),"\xa0property is optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n          "type": "url",\n            "caption": "External link",\n            "url": "https://absolutchat.com",\n            "webview_size": "full"\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"go-to-node-button"},"Go to node button"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "node",\n            "caption": "Show",\n            "target": "My Content"\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"target"),"\xa0key should be linked to a node existing within executed flow. Node name can be found in its header, you need to use unique name for node connected with link. If there are multiple nodes with similar names inside of the same flow, transition behaviour would not meet expectations. Go to node buttons are not supported in Public API."),(0,o.kt)("h3",{id:"dynamic-block-callback-button"},"Dynamic block callback button"),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"headers"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"payload"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "dynamic_block_callback",\n            "caption": "Dynamic content",\n            "url": "https://your-service.com/dynamic",\n            "method": "post",\n            "headers": {\n              "x-header": "value"\n            },\n            "payload": {\n              "key": "value"\n            }\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"dynamic_block_callback"),"\xa0works the same way as dynamic block in a content node, it will send a request to the server upon click, server reply will be sent to user. External server URL must be mentioned with HTTPS protocol."),(0,o.kt)("h2",{id:"actions-format"},"Actions format"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"actions"),"\xa0property of server response is optional."),(0,o.kt)("h3",{id:"action-add-tag"},"Action add tag"),(0,o.kt)("p",null,"Use this response to add a tag to a subscriber. Tag with the same name must exist in your bot:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://uchat.com.au"\n          }\n        ]\n      }\n    ],\n    "actions": [\n      {\n        "action": "add_tag",\n        "tag_name": "your tag",\n      }\n    ],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("p",null,"Tag name sent using\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"tag_name"),"\xa0parameter should match one of existing tags within AbsolutChat bot"),(0,o.kt)("h3",{id:"action-remove-tag"},"Action remove tag"),(0,o.kt)("p",null,"Use this response to remove a tag from a subscriber. Tag with the same name must exist in your bot:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://absolutchat.com"\n          }\n          ]\n      }\n    ],\n    "actions": [\n      {\n        "action": "remove_tag",\n        "tag_name": "your tag",\n      }\n    ],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h3",{id:"action-set-subscribers-field-value"},"Action set subscriber\u2019s field value"),(0,o.kt)("p",null,"Use this response to set subscriber\u2019s field value. Custom field with the same name must exist in your bot"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n      "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://Absolutchat.com"\n          }\n        ]\n      }\n    ],\n    "actions": [\n      {\n        "action": "set_field_value",\n        "field_name": "your field name",\n        "value": "some value"\n      }\n    ],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("p",null,"Filed name sent using\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"field_name"),"\xa0should match with name of one of custom fields existing within AbsolutChat bot You need to control data type recorded in custom fields, data type should match type of custom field"),(0,o.kt)("p",null,"Use the following value formats:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Number"),"\xa0field type value should be numeric like\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"2"),"\xa0or\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"3.14"),"\xa0not bounded by double quotation marks;")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Text"),"\xa0field type value should be transferred as text\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"some text"'),";")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Date"),"\xa0field type value should be transferred as text with date formatted like\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DD"),", i.e.\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"2018-03-25"'),";")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Date Time"),"\xa0field type value should be transferred as text with date formatted in ISO8601 UTC, i.e\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"2018-03-25T13:25:00.000Z"')))),(0,o.kt)("h3",{id:"action-unset-subscribers-field-value"},"Action unset subscriber\u2019s field value"),(0,o.kt)("p",null,"Use this response to unset (clear) subscriber\u2019s field value. Custom field with the same name must exist in your bot"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://absolutchat.com"\n          }\n        ]\n      }\n    ],\n    "actions": [\n      {\n        "action": "unset_field_value",\n        "field_name": "your field name"\n      }\n    ],\n    "quick_replies": []\n  }\n}\n')),(0,o.kt)("h2",{id:"quick-replies"},"Quick replies"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"quick_replies"),"\xa0property of server response is optional. Quick replies cannot be used in dynamic block of a content node if there are other blocks exist afterwards. Quick reply description format is the same for buttons, it supports\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"content"),",",(0,o.kt)("inlineCode",{parentName:"p"},"\xa0node"),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"dynamic_block_callback\xa0types"),"."),(0,o.kt)("h2",{id:"go-to-node-quick-reply"},"Go to node quick reply"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n            "url": "https://absolutchat.com"\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": [\n      {\n        "type": "node",\n        "caption": "Show",\n        "target": "My Content"\n      }\n    ]\n  }\n}\n')),(0,o.kt)("p",null,"target\xa0key should be linked to a node existing within executed flow. Node name can be found in its header, you need to use unique name for node connected with link. If there are multiple nodes with similar names inside of the same flow, transition behaviour would not meet expectations. Go to node quick replies are not supported in Public API."),(0,o.kt)("h3",{id:"dynamic-block-callback-quick-reply"},"Dynamic block callback quick reply"),(0,o.kt)("p",null,"The\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"headers"'),",\xa0",(0,o.kt)("inlineCode",{parentName:"p"},'"payload"'),"\xa0properties are optional."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n  "content": {\n    "messages": [\n      {\n        "type": "text",\n        "text": "simple text with button",\n        "buttons": [\n          {\n            "type": "url",\n            "caption": "External link",\n          "url": "https://absolutchat.com"\n          }\n        ]\n      }\n    ],\n    "actions": [],\n    "quick_replies": [\n      {\n        "type": "dynamic_block_callback",\n        "caption": "Dynamic content",\n        "url": "https://your-service.com/dynamic",\n        "method": "post",\n        "headers": {\n          "x-header": "value"\n        },\n        "payload": {\n          "key": "value"\n        }\n      }\n    ]\n  }\n}\n')),(0,o.kt)("h2",{id:"goto"},"Goto"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"goto"),"\xa0property of server response is optional."),(0,o.kt)("h3",{id:"goto-step--sub-flow"},"Goto Step / Sub Flow"),(0,o.kt)("p",null,"Use this response to goto a step or sub flow:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"version": "v1",\n    "content": {\n        "goto": "SOMETHING"\n    }\n}\n')),(0,o.kt)("p",null,"You can goto:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Goto"),(0,o.kt)("th",{parentName:"tr",align:null},"SOMETHING ="),(0,o.kt)("th",{parentName:"tr",align:null},"e.g."))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"A step"),(0,o.kt)("td",{parentName:"tr",align:null},"step name (unique)"),(0,o.kt)("td",{parentName:"tr",align:null},"Welcome")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"A step"),(0,o.kt)("td",{parentName:"tr",align:null},"node_ns"),(0,o.kt)("td",{parentName:"tr",align:null},"f244n7831")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"A sub flow"),(0,o.kt)("td",{parentName:"tr",align:null},"sub_flow_ns"),(0,o.kt)("td",{parentName:"tr",align:null},"f244s1032")))),(0,o.kt)("h3",{id:"get-sub_flow_ns"},"Get sub_flow_ns"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getsubflow",src:n(6191).Z,width:"406",height:"322"})),(0,o.kt)("h3",{id:"get-node_ns"},"Get node_ns"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getnode",src:n(2376).Z,width:"774",height:"645"})),(0,o.kt)("p",null,'Select a step, click "Copy Ref Url for this step", paste somewhere, then you will see the node_ns of this step:'),(0,o.kt)("h2",{id:"variables"},"Variables"),(0,o.kt)("p",null,"In dynamic block request body, you can use\xa0",(0,o.kt)("inlineCode",{parentName:"p"},"Full Subscriber Data"),"\xa0variable, that contains all subscriber\u2019s information:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n"id": 13245647xxxxxxxxx,\n    "user_ns": "f3245647xxxxxxxxx",\n    "page_id": 234564657xxxxxxxx,\n    "status": "active",\n    "first_name": "Subscriber",\n    "last_name": "Lastname",\n    "name": "Subscriber Lastname",\n    "gender": "male",\n    "image": "https://xxxxxxxxx.com/xxxxxx.jpg",\n    "locale": "en_US",\n    "language": "English",\n    "timezone": "UTC-07",\n    "last_input_text": "Last subscriber\'s input text",\n    "subscribed": "2018-07-02T00:00:00+00:00",\n    "last_interaction": "2018-07-02T00:00:00+00:00",\n    "last_seen": "2018-07-02T00:00:00+00:00",\n    "custom_fields": {\n        "customField": 0.75,\n        "customDate": "2018-05-31",\n        "customBool": true,\n        ...\n    }\n\n}\n')),(0,o.kt)("h2",{id:"api"},"API"),(0,o.kt)("p",null,"Checkout API details in\xa0",(0,o.kt)("a",{parentName:"p",href:"https://www.absolutchat.app/api"},"Swagger API Documentation")),(0,o.kt)("p",null,"AbsolutChat API is used to retrieve data from the flow you build. Here are some examples that you could do with AbsolutChat API."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Pull the flow you have built from AbsolutChat.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Create, delete or obtain data including flow tag, flow field.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Dealing with the data about the subscribers, involving getting the subscribers' information, editing their tag or field as well as the subflow sent to the subscribers.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Configure all the data used in e-commerce such as carts or products"))),(0,o.kt)("p",null,"If you need to deal with the data below, next sections will introduce the steps to use the AbsolutChat API."),(0,o.kt)("h2",{id:"authorize"},"Authorize"),(0,o.kt)("p",null,"Since the protection of the data is important to the API, it needs to use several attributes to authorize your identity. Therefore, the first step you must do is to enter the authorized information. You need to click the\xa0",(0,o.kt)("strong",{parentName:"p"},"Authorize"),"\xa0button, as the following figure shown."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-authorize",src:n(4617).Z,width:"1440",height:"791"})),(0,o.kt)("p",null,"Then, there are three attributes that you need to fill in the textbox."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-authorize",src:n(2955).Z,width:"892",height:"970"})),(0,o.kt)("p",null,"Here are the ways to find these attributes in the following section."),(0,o.kt)("h3",{id:"generate-api-key-httpbearer"},"Generate API Key (http,Bearer)"),(0,o.kt)("p",null,"Step 1 After you login the account in AbsolutChat, in the top right corner, it will show your account name and avatar. Click it and choose Your ",(0,o.kt)("strong",{parentName:"p"},"Settings"),"\xa0in the dropdown list."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-generateapi",src:n(61).Z,width:"1478",height:"800"})),(0,o.kt)("p",null,"Step 2 Go to the\xa0",(0,o.kt)("strong",{parentName:"p"},"API Keys Section"),"\xa0by clicking the button in the User Setting. Enter the key name you would like to set and click the\xa0",(0,o.kt)("strong",{parentName:"p"},"Create button"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-generateapi",src:n(7386).Z,width:"2504",height:"456"})),(0,o.kt)("p",null,"Step 3 Then you will get key in a pop-up window."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-generateapi",src:n(5388).Z,width:"1562",height:"762"})),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Here is your new API Key. This is the only time the key will ever be displayed, so be sure not to lose it! You may revoke the key at any time from your API settings."))),(0,o.kt)("p",null,"Close the window, you will get the basic information about the key\xa0",(0,o.kt)("strong",{parentName:"p"},"except the value of the key"),"."),(0,o.kt)("h3",{id:"get-the-curl-and-request-url"},"Get the Curl and Request URL"),(0,o.kt)("p",null,"Curl is used in API requests. In AbsolutChat API documentation, you need some operation before getting the curl in the AbsolutChat API documentation."),(0,o.kt)("p",null,"Here, we use\xa0",(0,o.kt)("strong",{parentName:"p"},"Get Flow Tag"),"\xa0as an example."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getcurl",src:n(3122).Z,width:"1440",height:"784"})),(0,o.kt)("p",null,"Step 1. Click the expand operation of category, the\xa0",(0,o.kt)("strong",{parentName:"p"},"Flow Tag"),"\xa0in this case. Then find the action and the feature,\xa0",(0,o.kt)("strong",{parentName:"p"},"Get /flow/tags"),". Click the row and a page will drop down shown as following."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getcurl",src:n(9046).Z,width:"1446",height:"1284"})),(0,o.kt)("p",null,"Step 2. This logo means\xa0",(0,o.kt)("strong",{parentName:"p"},"authorize"),". If you have done this before, this step is not required. Or, you just do the same as it was mentioned before in the\xa0Authorize\xa0section."),(0,o.kt)("p",null,"Step 3. Click Try it out. Then you will see that the",(0,o.kt)("strong",{parentName:"p"},"\xa0Parameters or Request body part"),"\xa0could be inputted and the\xa0Execute ",(0,o.kt)("strong",{parentName:"p"},"Button"),"\xa0is shown at the bottom of this part."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getcurl",src:n(9243).Z,width:"1416",height:"408"})),(0,o.kt)("p",null,"Step 4. Enter the parameters or request body required and click the\xa0Execute",(0,o.kt)("strong",{parentName:"p"}," Button.")," Finally, you will get the\xa0Curl\xa0and\xa0",(0,o.kt)("strong",{parentName:"p"},"Request URL"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-getcurl",src:n(6438).Z,width:"1413",height:"215"})),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Click the\xa0",(0,o.kt)("strong",{parentName:"p"},"Clear button"),"\xa0if you need to reset the parameters."))),(0,o.kt)("h3",{id:"responses"},"Responses"),(0,o.kt)("p",null,"This part display the JSON result you will get from the AbsolutChat API. Normally, if the code is 200, it means that you get the response successfully. If the code is 400, it means that there is an error in your response."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-responses",src:n(9910).Z,width:"1416",height:"708"})),(0,o.kt)("h3",{id:"example-value--schema"},"Example Value / Schema"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-exampleschema",src:n(9651).Z,width:"1447",height:"898"})),(0,o.kt)("p",null,'Apart from example value, you can click on "Schema" to view more details like which value is mandatory.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"absolutchat-exampleschema",src:n(1871).Z,width:"994",height:"893"})),(0,o.kt)("h2",{id:"mini-apps"},"Mini-Apps"),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"In Progress"))))}m.isMDXComponent=!0},4617:function(e,t,n){t.Z=n.p+"assets/images/authorize-5045ac94c433cf33945587cf496dc9a6.png"},2955:function(e,t,n){t.Z=n.p+"assets/images/authorize2-3080bd1158cc7cd666e8f70a2a6e7d75.png"},9651:function(e,t,n){t.Z=n.p+"assets/images/exampleschema1-2231052e0c6df41d5be665d13afe14ee.png"},1871:function(e,t,n){t.Z=n.p+"assets/images/exampleschema2-230369184534909afabb9ea283cb29d4.png"},61:function(e,t,n){t.Z=n.p+"assets/images/generateapi1-b2c547f16b4819628fcb8ed8d955f120.png"},7386:function(e,t,n){t.Z=n.p+"assets/images/generateapi2-78ef2d1413f357fc6c3363daf69537e7.png"},5388:function(e,t,n){t.Z=n.p+"assets/images/generateapi3-897875080d6f1e91bd7f2e856f9e56f3.png"},3122:function(e,t,n){t.Z=n.p+"assets/images/getcurl1-46dca48e9f2985c6d489508a7ca09586.png"},9046:function(e,t,n){t.Z=n.p+"assets/images/getcurl2-93be1d1e8d96f53702ff9370abd12b3f.png"},9243:function(e,t,n){t.Z=n.p+"assets/images/getcurl3-86e8e18b85ca33e6c627525233f31cc1.png"},6438:function(e,t,n){t.Z=n.p+"assets/images/getcurl4-0df4170e67e486aca04cbeabd151bc99.png"},2376:function(e,t,n){t.Z=n.p+"assets/images/getnode-d7852d996db7a833a090739f6c0d11ef.png"},6191:function(e,t,n){t.Z=n.p+"assets/images/getsubflow-a1c3fe90a0841ec3349e3206152656a1.png"},9910:function(e,t,n){t.Z=n.p+"assets/images/responses-50c6f9bf8addfbde7e33241c6d68fbb7.png"}}]);